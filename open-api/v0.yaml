openapi: 3.0.2
info:
  title: ''
  version: ''
tags:
  - name: æ¡ç›®
  - name: ç« èŠ‚
  - name: è§’è‰²
  - name: äººç‰©
  - name: ç”¨æˆ·
  - name: æ”¶è—
  - name: ç¼–è¾‘å†å²
  - name: ç›®å½•
paths:
  /v0/subjects/{subject_id}:
    get:
      tags:
        - æ¡ç›®
      summary: è·å–æ¡ç›®
      description: cache with 300s
      operationId: getSubjectById
      parameters:
        - required: true
          name: subject_id
          description: æ¡ç›® ID
          schema:
            title: Subject ID
            minimum: 1
            description: æ¡ç›® ID
            type: integer
          in: path
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Subject'
        '400':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
      security:
        - OptionalHTTPBearer: []
  /v0/subjects/{subject_id}/image:
    get:
      tags:
        - æ¡ç›®
      summary: Get Subject Image
      operationId: getSubjectImageById
      parameters:
        - required: true
          name: subject_id
          description: æ¡ç›® ID
          schema:
            title: Subject ID
            minimum: 1
            description: æ¡ç›® ID
            type: integer
          in: path
        - required: true
          description: æšä¸¾å€¼ {small|grid|large|medium|common}
          schema:
            title: Image Type
            type: string
          name: type
          in: query
      responses:
        '302':
          description: Successful Response
          headers:
            Location:
              schema:
                type: string
              description: |-
                å›¾ç‰‡é“¾æ¥
                æ— å›¾æ—¶è¿”å›é»˜è®¤å›¾ç‰‡ https://lain.bgm.tv/img/no_icon_subject.png
        '400':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
      security:
        - OptionalHTTPBearer: []
  /v0/subjects/{subject_id}/persons:
    get:
      tags:
        - æ¡ç›®
      summary: Get Subject Persons
      operationId: getRelatedPersonsBySubjectId
      parameters:
        - required: true
          name: subject_id
          description: æ¡ç›® ID
          schema:
            title: Subject ID
            minimum: 1
            description: æ¡ç›® ID
            type: integer
          in: path
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/RelatedPerson'
        '400':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
      security:
        - OptionalHTTPBearer: []
  /v0/subjects/{subject_id}/characters:
    get:
      tags:
        - æ¡ç›®
      summary: Get Subject Characters
      operationId: getRelatedCharactersBySubjectId
      parameters:
        - required: true
          name: subject_id
          description: æ¡ç›® ID
          schema:
            title: Subject ID
            minimum: 1
            description: æ¡ç›® ID
            type: integer
          in: path
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/RelatedCharacter'
        '400':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
      security:
        - OptionalHTTPBearer: []
  /v0/subjects/{subject_id}/subjects:
    get:
      tags:
        - æ¡ç›®
      summary: Get Subject Relations
      operationId: getRelatedSubjectsBySubjectId
      parameters:
        - required: true
          name: subject_id
          description: æ¡ç›® ID
          schema:
            title: Subject ID
            minimum: 1
            description: æ¡ç›® ID
            type: integer
          in: path
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/v0_subject_relation'
        '400':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
      security:
        - OptionalHTTPBearer: []
  /v0/episodes:
    get:
      tags:
        - ç« èŠ‚
      summary: Get Episodes
      operationId: getEpisodes
      parameters:
        - required: true
          name: subject_id
          description: æ¡ç›® ID
          schema:
            title: Subject ID
            minimum: 1
            description: æ¡ç›® ID
            type: integer
          in: query
        - description: å‚ç…§ç« èŠ‚çš„`type`
          required: false
          schema:
            allOf:
              - $ref: '#/components/schemas/EpType'
            description: å‚ç…§ç« èŠ‚çš„`type`
            type: integer
          name: type
          in: query
        - required: false
          description: åˆ†é¡µå‚æ•°
          schema:
            title: Limit
            maximum: 200
            minimum: 1
            type: integer
            default: 100
          name: limit
          in: query
        - required: false
          description: åˆ†é¡µå‚æ•°
          schema:
            title: Offset
            minimum: 0
            type: integer
            default: 0
          name: offset
          in: query
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Paged_Episode'
        '400':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
      security:
        - OptionalHTTPBearer: []
  /v0/episodes/{episode_id}:
    get:
      tags:
        - ç« èŠ‚
      summary: Get Episode
      operationId: getEpisodeById
      parameters:
        - required: true
          schema:
            title: Episode ID
            minimum: 1
            description: å‰§é›† ID
            type: integer
          name: episode_id
          description: ç« èŠ‚ ID
          in: path
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EpisodeDetail'
        '400':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
      security:
        - OptionalHTTPBearer: []
  /v0/characters/{character_id}:
    get:
      tags:
        - è§’è‰²
      summary: Get Character Detail
      description: cache with 60s
      operationId: getCharacterById
      parameters:
        - required: true
          description: è§’è‰² ID
          schema:
            title: Character ID
            minimum: 1
            type: integer
          name: character_id
          in: path
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CharacterDetail'
        '400':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
  /v0/characters/{character_id}/image:
    get:
      tags:
        - è§’è‰²
      summary: Get Character Image
      operationId: getCharacterImageById
      parameters:
        - required: true
          description: è§’è‰² ID
          schema:
            title: Character ID
            minimum: 1
            type: integer
          name: character_id
          in: path
        - required: true
          description: æšä¸¾å€¼ {small|grid|large|medium}
          schema:
            title: Image Type
            type: string
          name: type
          in: query
      responses:
        '302':
          description: Successful Response
          headers:
            Location:
              schema:
                type: string
              description: |-
                å›¾ç‰‡é“¾æ¥
                æ— å›¾æ—¶è¿”å›é»˜è®¤å›¾ç‰‡ https://lain.bgm.tv/img/no_icon_subject.png
        '400':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
      security:
        - OptionalHTTPBearer: []
  /v0/characters/{character_id}/subjects:
    get:
      tags:
        - è§’è‰²
      summary: get character related subjects
      operationId: getRelatedSubjectsByCharacterId
      parameters:
        - required: true
          description: è§’è‰² ID
          schema:
            title: Character ID
            minimum: 1
            type: integer
          name: character_id
          in: path
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/v0_RelatedSubject'
        '400':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
  /v0/characters/{character_id}/persons:
    get:
      tags:
        - è§’è‰²
      summary: get character related persons
      operationId: getRelatedPersonsByCharacterId
      parameters:
        - required: true
          description: è§’è‰² ID
          schema:
            title: Character ID
            minimum: 1
            type: integer
          name: character_id
          in: path
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CharacterPerson'
        '400':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
  /v0/persons/{person_id}:
    get:
      tags:
        - äººç‰©
      summary: Get Person
      description: cache with 60s
      operationId: getPersonById
      parameters:
        - required: true
          schema:
            title: Person ID
            minimum: 1
            type: integer
          name: person_id
          description: äººç‰© ID
          in: path
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PersonDetail'
        '400':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
  /v0/persons/{person_id}/image:
    get:
      tags:
        - è§’è‰²
      summary: Get Person Image
      operationId: getPersonImageById
      parameters:
        - required: true
          schema:
            title: Person ID
            minimum: 1
            type: integer
          name: person_id
          description: äººç‰© ID
          in: path
        - required: true
          description: æšä¸¾å€¼ {small|grid|large|medium}
          schema:
            title: Image Type
            type: string
          name: type
          in: query
      responses:
        '302':
          description: Successful Response
          headers:
            Location:
              schema:
                type: string
              description: |-
                å›¾ç‰‡é“¾æ¥
                æ— å›¾æ—¶è¿”å›é»˜è®¤å›¾ç‰‡ https://lain.bgm.tv/img/no_icon_subject.png
        '400':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
      security:
        - OptionalHTTPBearer: []
  /v0/persons/{person_id}/subjects:
    get:
      tags:
        - äººç‰©
      summary: get person related subjects
      operationId: getRelatedSubjectsByPersonId
      parameters:
        - required: true
          schema:
            title: Person ID
            minimum: 1
            type: integer
          name: person_id
          description: äººç‰© ID
          in: path
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/v0_RelatedSubject'
        '400':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
  /v0/persons/{person_id}/characters:
    get:
      tags:
        - äººç‰©
      summary: get person related characters
      operationId: getRelatedCharactersByPersonId
      parameters:
        - required: true
          schema:
            title: Person ID
            minimum: 1
            type: integer
          name: person_id
          description: äººç‰© ID
          in: path
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PersonCharacter'
        '400':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
  /v0/users/{username}:
    get:
      tags:
        - ç”¨æˆ·
      summary: Get User by name
      description: è·å–ç”¨æˆ·ä¿¡æ¯
      operationId: getUserByName
      parameters:
        - required: true
          schema:
            type: string
          description: è®¾ç½®äº†ç”¨æˆ·åä¹‹åæ— æ³•ä½¿ç”¨ UIDã€‚
          name: username
          in: path
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '400':
          description: username å¤ªé•¿
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
        '404':
          description: å¯¹åº”ç”¨æˆ·ä¸å­˜åœ¨
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
  /v0/users/{username}/avatar:
    get:
      tags:
        - ç”¨æˆ·
      summary: Get User Avatar by name
      description: è·å–ç”¨æˆ·å¤´åƒï¼Œ302 é‡å®šå‘è‡³å¤´åƒåœ°å€ï¼Œè®¾ç½®äº† username ä¹‹åæ— æ³•ä½¿ç”¨ UID æŸ¥è¯¢ã€‚
      operationId: getUserAvatarByName
      parameters:
        - required: true
          schema:
            type: string
          description: è®¾ç½®äº†ç”¨æˆ·åä¹‹åæ— æ³•ä½¿ç”¨ UIDã€‚
          name: username
          in: path
        - required: true
          description: æšä¸¾å€¼ {small|large|medium}
          schema:
            title: Avatar Type
            type: string
          name: type
          in: query
      responses:
        '302':
          description: Successful Response
          headers:
            Location:
              schema:
                type: string
              description: |-
                ç”¨æˆ·å¤´åƒé“¾æ¥
                æ— å¤´åƒæ—¶è¿”å›é»˜è®¤å¤´åƒ https://lain.bgm.tv/pic/user/m/icon.jpg
        '400':
          description: username å¤ªé•¿
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
        '404':
          description: å¯¹åº”ç”¨æˆ·ä¸å­˜åœ¨
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
  /v0/me:
    get:
      tags:
        - ç”¨æˆ·
      summary: Get User
      description: è¿”å›å½“å‰ Access Token å¯¹åº”çš„ç”¨æˆ·ä¿¡æ¯
      operationId: getMyself
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '403':
          description: unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
      security:
        - HTTPBearer: []
  /v0/users/{username}/collections:
    get:
      tags:
        - æ”¶è—
      summary: è·å–ç”¨æˆ·æ”¶è—
      description: è·å–å¯¹åº”ç”¨æˆ·çš„æ”¶è—ï¼ŒæŸ¥çœ‹ç§æœ‰æ”¶è—éœ€è¦access tokenã€‚
      operationId: getUserCollectionsByUsername
      parameters:
        - required: true
          schema:
            type: string
          description: è®¾ç½®äº†ç”¨æˆ·åä¹‹åæ— æ³•ä½¿ç”¨ UIDã€‚
          name: username
          in: path
        - description: |-
            æ¡ç›®ç±»å‹ï¼Œé»˜è®¤ä¸ºå…¨éƒ¨

            å…·ä½“å«ä¹‰è§ [SubjectType](#model-SubjectType)
          required: false
          schema:
            $ref: '#/components/schemas/SubjectType'
          name: subject_type
          in: query
        - description: |-
            æ”¶è—ç±»å‹ï¼Œé»˜è®¤ä¸ºå…¨éƒ¨

            å…·ä½“å«ä¹‰è§ [CollectionType](#model-CollectionType)
          required: false
          schema:
            allOf:
              - $ref: '#/components/schemas/CollectionType'
            type: integer
          name: type
          in: query
        - required: false
          schema:
            title: Limit
            maximum: 50
            minimum: 1
            type: integer
            default: 30
          name: limit
          description: åˆ†é¡µå‚æ•°
          in: query
        - required: false
          schema:
            title: Offset
            minimum: 0
            type: integer
            default: 0
          description: åˆ†é¡µå‚æ•°
          name: offset
          in: query
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Paged_UserCollection'
        '400':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
        '404':
          description: ç”¨æˆ·ä¸å­˜åœ¨
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
      security:
        - OptionalHTTPBearer: []
  /v0/users/{username}/collections/{subject_id}:
    get:
      tags:
        - æ”¶è—
      summary: è·å–ç”¨æˆ·å•ä¸ªæ”¶è—
      description: è·å–å¯¹åº”ç”¨æˆ·çš„æ”¶è—ï¼ŒæŸ¥çœ‹ç§æœ‰æ”¶è—éœ€è¦access tokenã€‚
      operationId: getUserCollection
      parameters:
        - required: true
          schema:
            type: string
          description: è®¾ç½®äº†ç”¨æˆ·åä¹‹åæ— æ³•ä½¿ç”¨ UIDã€‚
          name: username
          in: path
        - required: true
          name: subject_id
          description: æ¡ç›® ID
          schema:
            title: Subject ID
            minimum: 1
            description: æ¡ç›® ID
            type: integer
          in: path
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserCollection'
        '400':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
        '404':
          description: ç”¨æˆ·ä¸å­˜åœ¨æˆ–è€…æ¡ç›®æœªæ”¶è—ï¼Œæˆ–è€…æ¡ç›®ä¸ºç§æœ‰æ”¶è—
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
      security:
        - OptionalHTTPBearer: []
  /v0/revisions/persons:
    get:
      tags:
        - ç¼–è¾‘å†å²
      summary: Get Person Revisions
      operationId: getPersonRevisions
      parameters:
        - required: true
          schema:
            title: Person ID
            minimum: 1
            type: integer
          name: person_id
          description: è§’è‰² ID
          in: query
        - required: false
          schema:
            title: Limit
            maximum: 50
            minimum: 1
            type: integer
            default: 30
          name: limit
          description: åˆ†é¡µå‚æ•°
          in: query
        - required: false
          schema:
            title: Offset
            minimum: 0
            type: integer
            default: 0
          description: åˆ†é¡µå‚æ•°
          name: offset
          in: query
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Paged_Revision'
        '400':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
  /v0/revisions/persons/{revision_id}:
    get:
      tags:
        - ç¼–è¾‘å†å²
      summary: Get Person Revision
      operationId: getPersonRevisionByRevisionId
      parameters:
        - required: true
          schema:
            title: Revision ID
            minimum: 1
            type: integer
          name: revision_id
          description: å†å²ç‰ˆæœ¬ ID
          in: path
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PersonRevision'
        '400':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
  /v0/revisions/characters:
    get:
      tags:
        - ç¼–è¾‘å†å²
      summary: Get Character Revisions
      operationId: getCharacterRevisions
      parameters:
        - required: true
          schema:
            title: Character ID
            minimum: 1
            type: integer
          name: character_id
          description: è§’è‰² ID
          in: query
        - required: false
          schema:
            title: Limit
            maximum: 50
            minimum: 1
            type: integer
            default: 30
          name: limit
          description: åˆ†é¡µå‚æ•°
          in: query
        - required: false
          schema:
            title: Offset
            minimum: 0
            type: integer
            default: 0
          description: åˆ†é¡µå‚æ•°
          name: offset
          in: query
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Paged_Revision'
        '400':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
  /v0/revisions/characters/{revision_id}:
    get:
      tags:
        - ç¼–è¾‘å†å²
      summary: Get Character Revision
      operationId: getCharacterRevisionByRevisionId
      parameters:
        - required: true
          schema:
            title: Revision ID
            minimum: 1
            type: integer
          name: revision_id
          description: ç‰ˆæœ¬ ID
          in: path
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CharacterRevision'
        '400':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
  /v0/revisions/subjects:
    get:
      tags:
        - ç¼–è¾‘å†å²
      summary: Get Subject Revisions
      operationId: getSubjectRevisions
      parameters:
        - required: true
          schema:
            title: Subject ID
            minimum: 1
            type: integer
          name: subject_id
          description: æ¡ç›® ID
          in: query
        - required: false
          schema:
            title: Limit
            maximum: 50
            minimum: 1
            type: integer
            default: 30
          name: limit
          description: åˆ†é¡µå‚æ•°
          in: query
        - required: false
          schema:
            title: Offset
            minimum: 0
            type: integer
            default: 0
          description: åˆ†é¡µå‚æ•°
          name: offset
          in: query
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Paged_Revision'
        '400':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
  /v0/revisions/subjects/{revision_id}:
    get:
      tags:
        - ç¼–è¾‘å†å²
      summary: Get Subject Revision
      operationId: getSubjectRevisionByRevisionId
      parameters:
        - required: true
          schema:
            title: Revision ID
            minimum: 1
            type: integer
          name: revision_id
          description: ç‰ˆæœ¬ ID
          in: path
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SubjectRevision'
        '400':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
  /v0/revisions/episodes:
    get:
      tags:
        - ç¼–è¾‘å†å²
      summary: Get Episode Revisions
      operationId: getEpisodeRevisions
      parameters:
        - required: true
          schema:
            title: Episode ID
            minimum: 1
            type: integer
          name: episode_id
          description: ç« èŠ‚ ID
          in: query
        - required: false
          schema:
            title: Limit
            maximum: 50
            minimum: 1
            type: integer
            default: 30
          name: limit
          description: åˆ†é¡µå‚æ•°
          in: query
        - required: false
          schema:
            title: Offset
            minimum: 0
            type: integer
            default: 0
          description: åˆ†é¡µå‚æ•°
          name: offset
          in: query
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Paged_Revision'
        '400':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
  /v0/revisions/episodes/{revision_id}:
    get:
      tags:
        - ç¼–è¾‘å†å²
      summary: Get Episode Revision
      operationId: getEpisodeRevisionByRevisionId
      parameters:
        - required: true
          schema:
            title: Revision ID
            minimum: 1
            type: integer
          name: revision_id
          description: ç‰ˆæœ¬ ID
          in: path
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DetailedRevision'
        '400':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
  /v0/indices/{index_id}:
    get:
      tags:
        - ç›®å½•
      summary: Get Index By ID
      operationId: getIndexById
      parameters:
        - required: true
          schema:
            title: Index ID
            minimum: 1
            type: integer
          name: index_id
          description: ç›®å½• ID
          in: path
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Index'
        '400':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
      security:
        - OptionalHTTPBearer: []
  /v0/indices/{index_id}/subjects:
    get:
      tags:
        - ç›®å½•
      summary: Get Index Subjects
      operationId: getIndexSubjectsByIndexId
      parameters:
        - required: true
          description: æ¡ç›® ID
          schema:
            title: Index ID
            minimum: 1
            type: integer
          name: index_id
          in: path
        - required: false
          description: æ¡ç›®ç±»å‹
          schema:
            $ref: '#/components/schemas/SubjectType'
          name: type
          in: query
        - required: false
          schema:
            title: Limit
            maximum: 50
            minimum: 1
            type: integer
            default: 30
          name: limit
          description: åˆ†é¡µå‚æ•°
          in: query
        - required: false
          schema:
            title: Offset
            minimum: 0
            type: integer
            default: 0
          description: åˆ†é¡µå‚æ•°
          name: offset
          in: query
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Paged_IndexSubject'
        '400':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDetail'
      security:
        - OptionalHTTPBearer: []
components:
  schemas:
    User:
      example:
        avatar:
          large: https://lain.bgm.tv/pic/user/l/000/00/00/1.jpg?r=1391790456
          medium: https://lain.bgm.tv/pic/user/m/000/00/00/1.jpg?r=1391790456
          small: https://lain.bgm.tv/pic/user/s/000/00/00/1.jpg?r=1391790456
        sign: Awesome!
        username: sai
        nickname: SaiğŸ––
        id: 1
        user_group: 1
      title: User
      description: |
        å®é™…çš„è¿”å›å€¼å¯èƒ½åŒ…æ‹¬æ–‡æ¡£æœªå£°æ˜çš„ `url` å­—æ®µï¼Œæ­¤å­—æ®µä¸»è¦ç”¨äºå¼€å‘è€…ä» api å“åº”ç›´æ¥è½¬è·³åˆ°ç½‘é¡µã€‚
        å®¢æˆ·ç«¯å¼€å‘è€…è¯·ä¸ç”¨ä¾èµ–äºæ­¤ç‰¹æ€§ï¼Œæ­¤å­—æ®µçš„å€¼éšæ—¶å¯èƒ½ä¼šæ”¹å˜ã€‚
      required:
        - id
        - username
        - nickname
        - user_group
        - avatar
        - sign
      type: object
      properties:
        id:
          title: ID
          type: integer
        username:
          title: Username
          type: string
          description: å”¯ä¸€ç”¨æˆ·åï¼Œåˆå§‹ä¸ UID ç›¸åŒï¼Œå¯ä¿®æ”¹ä¸€æ¬¡
        nickname:
          title: Nickname
          type: string
        user_group:
          $ref: '#/components/schemas/UserGroup'
        avatar:
          $ref: '#/components/schemas/Avatar'
        sign:
          title: Sign
          description: ä¸ªäººç­¾å
          type: string
    Avatar:
      title: Avatar
      required:
        - large
        - medium
        - small
      type: object
      properties:
        large:
          title: Large
          type: string
          format: url
        medium:
          title: Medium
          type: string
          format: url
        small:
          title: Small
          type: string
          format: url
    UserGroup:
      title: UserGroup
      enum:
        - 1
        - 2
        - 3
        - 4
        - 5
        - 8
        - 9
        - 10
        - 11
      type: integer
      description: >-
        ç”¨æˆ·ç»„ - 1 = ç®¡ç†å‘˜ - 2 = Bangumi ç®¡ç†çŒ¿ - 3 = å¤©çª—ç®¡ç†çŒ¿ - 4 = ç¦è¨€ç”¨æˆ· - 5 = ç¦æ­¢è®¿é—®ç”¨æˆ· - 8
        = äººç‰©ç®¡ç†çŒ¿ - 9 = ç»´åŸºæ¡ç›®ç®¡ç†çŒ¿ - 10 = ç”¨æˆ· - 11 = ç»´åŸºäºº
      x-ms-enum:
        name: UserGroup
        modelAsString: false
        values:
          - Admin
          - BangumiAdmin
          - DoujinAdmin
          - MutedUser
          - BlockedUser
          - PersonAdmin
          - WikiAdmin
          - User
          - WikiUser
      x-enum-varnames:
        - Admin
        - BangumiAdmin
        - DoujinAdmin
        - MutedUser
        - BlockedUser
        - PersonAdmin
        - WikiAdmin
        - User
        - WikiUser
    BloodType:
      title: BloodType
      enum:
        - 1
        - 2
        - 3
        - 4
      type: integer
      description: Blood type of a person. A, B, AB, O
      x-ms-enum:
        name: BloodType
        modelAsString: false
        values:
          - A
          - B
          - AB
          - O
      x-enum-varnames:
        - A
        - B
        - AB
        - O
    CharacterDetail:
      title: CharacterDetail
      required:
        - id
        - name
        - type
        - summary
        - locked
        - stat
      type: object
      properties:
        id:
          title: ID
          type: integer
        name:
          title: Name
          type: string
        type:
          type: integer
          allOf:
            - $ref: '#/components/schemas/CharacterType'
          description: è§’è‰²ï¼Œæœºä½“ï¼Œèˆ°èˆ¹ï¼Œç»„ç»‡...
        images:
          title: Images
          type: object
          allOf:
            - $ref: '#/components/schemas/PersonImages'
          description: object with some size of images, this object maybe `null`
        summary:
          title: Summary
          type: string
        locked:
          title: Locked
          type: boolean
        infobox:
          title: Infobox
          type: array
          items:
            type: object
          description: |-
            server parsed infobox, a map from key to string or tuple
            null if server infobox is not valid
        gender:
          title: Gender
          type: string
          description: parsed from wiki, maybe null
        blood_type:
          type: integer
          allOf:
            - $ref: '#/components/schemas/BloodType'
          description: parsed from wiki, maybe null, `1, 2, 3, 4` for `A, B, AB, O`
        birth_year:
          title: Birth Year
          type: integer
          description: parsed from wiki, maybe `null`
        birth_mon:
          title: Birth Mon
          type: integer
          description: parsed from wiki, maybe `null`
        birth_day:
          title: Birth Day
          type: integer
          description: parsed from wiki, maybe `null`
        stat:
          $ref: '#/components/schemas/Stat'
    CharacterPerson:
      title: CharacterPerson
      required:
        - id
        - name
        - type
        - subject_id
        - subject_name
        - subject_name_cn
      type: object
      properties:
        id:
          title: ID
          type: integer
        name:
          title: Name
          type: string
        type:
          type: integer
          allOf:
            - $ref: '#/components/schemas/CharacterType'
          description: è§’è‰²ï¼Œæœºä½“ï¼Œèˆ°èˆ¹ï¼Œç»„ç»‡...
        images:
          title: Images
          type: object
          allOf:
            - $ref: '#/components/schemas/PersonImages'
          description: object with some size of images, this object maybe `null`
        subject_id:
          title: Subject ID
          type: integer
        subject_name:
          title: Subject Name
          type: string
        subject_name_cn:
          title: Subject Name Cn
          type: string
    CharacterType:
      title: CharacterType
      enum:
        - 1
        - 2
        - 3
        - 4
      type: integer
      description: type of a character è§’è‰²ï¼Œæœºä½“ï¼Œèˆ°èˆ¹ï¼Œç»„ç»‡...
      x-ms-enum:
        name: CharacterType
        modelAsString: false
        values:
          - Character
          - Mechanic
          - Ship
          - Organization
      x-enum-varnames:
        - Character
        - Mechanic
        - Ship
        - Organization
    Collection:
      title: Collection
      required:
        - wish
        - collect
        - doing
        - on_hold
        - dropped
      type: object
      properties:
        wish:
          title: Wish
          type: integer
        collect:
          title: Collect
          type: integer
        doing:
          title: Doing
          type: integer
        on_hold:
          title: On Hold
          type: integer
        dropped:
          title: Dropped
          type: integer
    CollectionType:
      title: CollectionType
      enum:
        - 1
        - 2
        - 3
        - 4
        - 5
      type: integer
      description: |-
        - `1`: æƒ³çœ‹
        - `2`: çœ‹è¿‡
        - `3`: åœ¨çœ‹
        - `4`: æç½®
        - `5`: æŠ›å¼ƒ
      x-ms-enum:
        name: CollectionType
        modelAsString: false
        values:
          - Wish
          - Collect
          - Doing
          - OnHold
          - Dropped
      x-enum-varnames:
        - Wish
        - Collect
        - Doing
        - OnHold
        - Dropped
    Creator:
      title: Creator
      required:
        - username
        - nickname
      type: object
      properties:
        username:
          title: Username
          type: string
        nickname:
          title: Nickname
          type: string
      description: æ„ä¹‰åŒ<a href="#model-Me">Me</a>
    DetailedRevision:
      title: DetailedRevision
      required:
        - id
        - type
        - summary
        - created_at
      type: object
      properties:
        id:
          title: ID
          type: integer
        type:
          title: Type
          type: integer
        creator:
          $ref: '#/components/schemas/Creator'
        summary:
          title: Summary
          type: string
        created_at:
          title: Created At
          type: string
          format: date-time
        data:
          title: Data
          type: string
          description: ç¼–è¾‘ä¿®æ”¹å†…å®¹
    PersonRevision:
      title: PersonRevision
      allOf:
        - $ref: '#/components/schemas/Revision'
        - type: object
          properties:
            data:
              title: Data
              type: object
              additionalProperties:
                $ref: '#/components/schemas/PersonRevisionDataItem'
    PersonRevisionDataItem:
      title: PersonRevisionDataItem
      required:
        - prsn_infobox
        - prsn_summary
        - profession
        - extra
        - prsn_name
      type: object
      properties:
        prsn_infobox:
          title: Person Infobox
          type: string
        prsn_summary:
          title: Person Summary
          type: string
        profession:
          $ref: '#/components/schemas/PersonRevisionProfession'
        extra:
          $ref: '#/components/schemas/RevisionExtra'
        prsn_name:
          title: Person Name
          type: string
    PersonRevisionProfession:
      title: PersonRevisionProfession
      type: object
      properties:
        producer:
          title: Producer
          type: string
        mangaka:
          title: Mangaka
          type: string
        artist:
          title: Artist
          type: string
        seiyu:
          title: Seiyu
          type: string
        writer:
          title: Writer
          type: string
        illustrator:
          title: Illustrator
          type: string
        actor:
          title: Actor
          type: string
    RevisionExtra:
      title: RevisionExtra
      type: object
      properties:
        img:
          title: Image
          type: string
    SubjectRevision:
      title: SubjectRevision
      allOf:
        - $ref: '#/components/schemas/Revision'
        - type: object
          properties:
            data:
              $ref: '#/components/schemas/SubjectRevisionData'
    SubjectRevisionData:
      title: SubjectRevisionData
      required:
        - field_eps
        - field_infobox
        - field_summary
        - name
        - name_cn
        - platform
        - subject_id
        - type
        - type_id
        - vote_field
      type: object
      properties:
        field_eps:
          title: Field EPs
          type: integer
        field_infobox:
          title: Field Infobox
          type: string
        field_summary:
          title: Field Summary
          type: string
        name:
          title: Name
          type: string
        name_cn:
          title: Name CN
          type: string
        platform:
          title: Platform
          type: integer
        subject_id:
          title: Subject ID
          type: integer
        type:
          title: Type
          type: integer
        type_id:
          title: Type ID
          type: integer
        vote_field:
          title: Vote Field
          type: string
    CharacterRevision:
      title: CharacterRevision
      allOf:
        - $ref: '#/components/schemas/Revision'
        - type: object
          properties:
            data:
              title: Data
              additionalProperties:
                $ref: '#/components/schemas/CharacterRevisionDataItem'
    CharacterRevisionDataItem:
      title: CharacterRevisionDataItem
      required:
        - infobox
        - summary
        - name
        - extra
      type: object
      properties:
        infobox:
          title: Character Infobox
          type: string
        summary:
          title: Character Summary
          type: string
        name:
          title: Character Name
          type: string
        extra:
          $ref: '#/components/schemas/RevisionExtra'
    EpType:
      title: EpType
      enum:
        - 0
        - 1
        - 2
        - 3
        - 4
        - 5
        - 6
      type: integer
      description: |-
        æœ¬ç¯‡ = 0
        ç‰¹åˆ«ç¯‡ = 1
        OP = 2
        ED = 3
        é¢„å‘Š/å®£ä¼ /å¹¿å‘Š = 4
        MAD = 5
        å…¶ä»– = 6
      x-ms-enum:
        name: EpType
        modelAsString: false
        values:
          - MainStory
          - SP
          - OP
          - ED
          - PV
          - MAD
          - Other
      x-enum-varnames:
        - MainStory
        - SP
        - OP
        - ED
        - PV
        - MAD
        - Other
    Episode:
      title: Episode
      required:
        - id
        - type
        - name
        - name_cn
        - sort
        - airdate
        - comment
        - duration
        - desc
        - disc
      type: object
      properties:
        id:
          title: ID
          type: integer
        type:
          title: Type
          type: integer
          description: '`0` æœ¬ç¯‡ï¼Œ`1` SPï¼Œ`2` OPï¼Œ`3` ED'
        name:
          title: Name
          type: string
        name_cn:
          title: Name Cn
          type: string
        sort:
          title: Sort
          type: number
          description: åŒç±»æ¡ç›®çš„æ’åºå’Œé›†æ•°
        ep:
          title: Ep
          type: number
          description: æ¡ç›®å†…çš„é›†æ•°, ä»`1`å¼€å§‹ã€‚éæœ¬ç¯‡å‰§é›†çš„æ­¤å­—æ®µæ— æ„ä¹‰
        airdate:
          title: Airdate
          type: string
        comment:
          title: Comment
          type: integer
        duration:
          title: Duration
          type: string
        desc:
          title: Desc
          type: string
          description: ç®€ä»‹
        disc:
          title: Disc
          type: integer
          description: éŸ³ä¹æ›²ç›®çš„ç¢Ÿç‰‡æ•°
    EpisodeDetail:
      title: EpisodeDetail
      required:
        - id
        - type
        - name
        - name_cn
        - sort
        - airdate
        - comment
        - duration
        - desc
        - disc
        - subject_id
      type: object
      properties:
        id:
          title: ID
          type: integer
        type:
          title: Type
          type: integer
          description: '`0` æœ¬ç¯‡ï¼Œ`1` SPï¼Œ`2` OPï¼Œ`3` ED'
        name:
          title: Name
          type: string
        name_cn:
          title: Name Cn
          type: string
        sort:
          title: Sort
          type: number
          description: åŒç±»æ¡ç›®çš„æ’åºå’Œé›†æ•°
        ep:
          title: Ep
          type: number
          description: æ¡ç›®å†…çš„é›†æ•°, ä»`1`å¼€å§‹ã€‚éæœ¬ç¯‡å‰§é›†çš„æ­¤å­—æ®µæ— æ„ä¹‰
        airdate:
          title: Airdate
          type: string
        comment:
          title: Comment
          type: integer
        duration:
          title: Duration
          type: string
        desc:
          title: Desc
          type: string
          description: ç®€ä»‹
        disc:
          title: Disc
          type: integer
          description: éŸ³ä¹æ›²ç›®çš„ç¢Ÿç‰‡æ•°
        subject_id:
          title: Subject ID
          type: integer
    ErrorDetail:
      title: ErrorDetail
      required:
        - title
        - description
      type: object
      properties:
        title:
          title: Title
          type: string
        description:
          title: Description
          type: string
        detail:
          title: Detail
          oneOf:
            - type: string
            - type: object
              properties:
                error:
                  type: string
                  description: error message
                path:
                  type: string
                  description: request path
    Images:
      title: Images
      required:
        - large
        - common
        - medium
        - small
        - grid
      type: object
      properties:
        large:
          title: Large
          type: string
        common:
          title: Common
          type: string
        medium:
          title: Medium
          type: string
        small:
          title: Small
          type: string
        grid:
          title: Grid
          type: string
    Index:
      title: Index
      required:
        - id
        - title
        - desc
        - stat
        - created_at
        - creator
        - ban
        - nsfw
      type: object
      properties:
        id:
          title: ID
          type: integer
        title:
          title: Title
          type: string
        desc:
          title: Desc
          type: string
        total:
          title: Total
          type: integer
          description: æ”¶å½•æ¡ç›®æ€»æ•°
          default: 0
        stat:
          title: Stat
          type: object
          allOf:
            - $ref: '#/components/schemas/Stat'
          description: ç›®å½•è¯„è®ºåŠæ”¶è—æ•°
        created_at:
          title: Created At
          type: string
          format: date-time
        creator:
          $ref: '#/components/schemas/Creator'
        ban:
          title: Ban
          type: boolean
        nsfw:
          title: ç›®å½•æ˜¯å¦åŒ…æ‹¬ nsfw æ¡ç›®
          type: boolean
    IndexSubject:
      title: IndexSubject
      required:
        - id
        - type
        - name
        - comment
        - added_at
      type: object
      properties:
        id:
          title: ID
          type: integer
        type:
          title: Type
          type: integer
        name:
          title: Name
          type: string
        images:
          $ref: '#/components/schemas/Images'
        infobox:
          title: Infobox
          type: array
          items:
            $ref: '#/components/schemas/Item'
        date:
          title: Date
          type: string
        comment:
          title: Comment
          type: string
        added_at:
          title: Added At
          type: string
          format: date-time
      description: åŒåå­—æ®µæ„ä¹‰åŒ<a href="#model-Subject">Subject</a>
    Item:
      title: Item
      required:
        - key
        - value
      type: object
      properties:
        key:
          title: Key
          type: string
        value:
          title: Value
          type: object
          anyOf:
            - type: string
            - type: array
              items:
                anyOf:
                  - $ref: '#/components/schemas/KV'
                  - $ref: '#/components/schemas/V'
    KV:
      title: KV
      required:
        - k
        - v
      type: object
      properties:
        k:
          title: K
          type: string
        v:
          title: V
          type: string
    Paged_Episode:
      title: Paged[Episode]
      type: object
      properties:
        total:
          title: Total
          type: integer
          default: 0
        limit:
          title: Limit
          type: integer
          default: 0
        offset:
          title: Offset
          type: integer
          default: 0
        data:
          title: Data
          type: array
          items:
            $ref: '#/components/schemas/Episode'
          default: []
    Paged_IndexSubject:
      title: Paged[IndexSubject]
      type: object
      properties:
        total:
          title: Total
          type: integer
          default: 0
        limit:
          title: Limit
          type: integer
          default: 0
        offset:
          title: Offset
          type: integer
          default: 0
        data:
          title: Data
          type: array
          items:
            $ref: '#/components/schemas/IndexSubject'
          default: []
    Paged_Revision:
      title: Paged[Revision]
      type: object
      properties:
        total:
          title: Total
          type: integer
          default: 0
        limit:
          title: Limit
          type: integer
          default: 0
        offset:
          title: Offset
          type: integer
          default: 0
        data:
          title: Data
          type: array
          items:
            $ref: '#/components/schemas/Revision'
          default: []
    Paged_UserCollection:
      title: Paged[UserCollection]
      type: object
      properties:
        total:
          title: Total
          type: integer
          default: 0
        limit:
          title: Limit
          type: integer
          default: 0
        offset:
          title: Offset
          type: integer
          default: 0
        data:
          title: Data
          type: array
          items:
            $ref: '#/components/schemas/UserCollection'
          default: []
    Person:
      title: Person
      required:
        - id
        - name
        - type
        - career
        - short_summary
        - locked
      type: object
      properties:
        id:
          title: ID
          type: integer
        name:
          title: Name
          type: string
        type:
          type: integer
          allOf:
            - $ref: '#/components/schemas/PersonType'
          description: '`1`, `2`, `3` è¡¨ç¤º `ä¸ªäºº`, `å…¬å¸`, `ç»„åˆ`'
        career:
          type: array
          items:
            $ref: '#/components/schemas/PersonCareer'
        images:
          title: Images
          type: object
          allOf:
            - $ref: '#/components/schemas/PersonImages'
          description: object with some size of images, this object maybe `null`
        short_summary:
          title: Short Summary
          type: string
        locked:
          title: Locked
          type: boolean
    PersonCareer:
      title: PersonCareer
      enum:
        - producer
        - mangaka
        - artist
        - seiyu
        - writer
        - illustrator
        - actor
      type: string
      description: An enumeration.
    PersonCharacter:
      title: PersonCharacter
      required:
        - id
        - name
        - type
        - subject_id
        - subject_name
        - subject_name_cn
      type: object
      properties:
        id:
          title: ID
          type: integer
        name:
          title: Name
          type: string
        type:
          type: integer
          allOf:
            - $ref: '#/components/schemas/CharacterType'
          description: è§’è‰²ï¼Œæœºä½“ï¼Œèˆ°èˆ¹ï¼Œç»„ç»‡...
        images:
          title: Images
          allOf:
            - $ref: '#/components/schemas/PersonImages'
          description: object with some size of images, this object maybe `null`
        subject_id:
          title: Subject ID
          type: integer
        subject_name:
          title: Subject Name
          type: string
        subject_name_cn:
          title: Subject Name Cn
          type: string
    PersonDetail:
      title: PersonDetail
      required:
        - id
        - name
        - type
        - career
        - summary
        - locked
        - last_modified
        - stat
      type: object
      properties:
        id:
          title: ID
          type: integer
        name:
          title: Name
          type: string
        type:
          type: integer
          allOf:
            - $ref: '#/components/schemas/PersonType'
          description: '`1`, `2`, `3` è¡¨ç¤º `ä¸ªäºº`, `å…¬å¸`, `ç»„åˆ`'
        career:
          type: array
          items:
            $ref: '#/components/schemas/PersonCareer'
        images:
          title: Images
          type: object
          allOf:
            - $ref: '#/components/schemas/PersonImages'
          description: object with some size of images, this object maybe `null`
        summary:
          title: Summary
          type: string
        locked:
          title: Locked
          type: boolean
        last_modified:
          title: Last Modified
          type: string
          description: >-
            currently it's latest user comment time, it will be replaced by wiki
            modified date in the future
          format: date-time
        infobox:
          title: Infobox
          type: array
          items:
            type: object
          description: |-
            server parsed infobox, a map from key to string or tuple
            null if server infobox is not valid
        gender:
          title: Gender
          type: string
          description: parsed from wiki, maybe null
        blood_type:
          type: integer
          allOf:
            - $ref: '#/components/schemas/BloodType'
          description: parsed from wiki, maybe null, `1, 2, 3, 4` for `A, B, AB, O`
        birth_year:
          title: Birth Year
          type: integer
          description: parsed from wiki, maybe `null`
        birth_mon:
          title: Birth Mon
          type: integer
          description: parsed from wiki, maybe `null`
        birth_day:
          title: Birth Day
          type: integer
          description: parsed from wiki, maybe `null`
        stat:
          $ref: '#/components/schemas/Stat'
    PersonImages:
      title: PersonImages
      required:
        - large
        - medium
        - small
        - grid
      type: object
      properties:
        large:
          title: Large
          type: string
        medium:
          title: Medium
          type: string
        small:
          title: Small
          type: string
        grid:
          title: Grid
          type: string
    PersonType:
      title: PersonType
      enum:
        - 1
        - 2
        - 3
      type: integer
      description: '`1`, `2`, `3` è¡¨ç¤º `ä¸ªäºº`, `å…¬å¸`, `ç»„åˆ`'
      x-ms-enum:
        name: PersonType
        modelAsString: false
        values:
          - Individual
          - Corporation
          - Association
      x-enum-varnames:
        - Individual
        - Corporation
        - Association
    Rating:
      title: Rating
      required:
        - rank
        - total
        - count
        - score
      type: object
      properties:
        rank:
          title: Rank
          type: integer
        total:
          title: Total
          type: integer
        count:
          title: Count
          type: object
          properties:
            '1':
              type: integer
            '2':
              type: integer
            '3':
              type: integer
            '4':
              type: integer
            '5':
              type: integer
            '6':
              type: integer
            '7':
              type: integer
            '8':
              type: integer
            '9':
              type: integer
            '10':
              type: integer
        score:
          title: Score
          type: number
    RelatedCharacter:
      title: RelatedCharacter
      required:
        - id
        - name
        - type
        - relation
      type: object
      properties:
        id:
          title: ID
          type: integer
        name:
          title: Name
          type: string
        type:
          type: integer
          allOf:
            - $ref: '#/components/schemas/CharacterType'
          description: è§’è‰²ï¼Œæœºä½“ï¼Œèˆ°èˆ¹ï¼Œç»„ç»‡...
        images:
          title: Images
          type: object
          allOf:
            - $ref: '#/components/schemas/PersonImages'
          description: object with some size of images, this object maybe `null`
        relation:
          title: Relation
          type: string
        actors:
          title: Actors
          type: array
          items:
            $ref: '#/components/schemas/Person'
          description: æ¼”å‘˜åˆ—è¡¨
          default: []
    RelatedPerson:
      title: RelatedPerson
      required:
        - id
        - name
        - type
        - career
        - relation
      type: object
      properties:
        id:
          title: ID
          type: integer
        name:
          title: Name
          type: string
        type:
          type: integer
          allOf:
            - $ref: '#/components/schemas/PersonType'
          description: '`1`, `2`, `3` è¡¨ç¤º `ä¸ªäºº`, `å…¬å¸`, `ç»„åˆ`'
        career:
          type: array
          items:
            $ref: '#/components/schemas/PersonCareer'
        images:
          title: Images
          type: object
          allOf:
            - $ref: '#/components/schemas/PersonImages'
          description: object with some size of images, this object maybe `null`
        relation:
          title: Relation
          type: string
    Revision:
      title: Revision
      required:
        - id
        - type
        - summary
        - created_at
      type: object
      properties:
        id:
          title: ID
          type: integer
        type:
          title: Type
          type: integer
        creator:
          $ref: '#/components/schemas/Creator'
        summary:
          title: Summary
          type: string
        created_at:
          title: Created At
          type: string
          format: date-time
    Stat:
      title: Stat
      required:
        - comments
        - collects
      type: object
      properties:
        comments:
          title: Comments
          type: integer
        collects:
          title: Collects
          type: integer
    Subject:
      title: Subject
      required:
        - id
        - type
        - name
        - name_cn
        - summary
        - nsfw
        - locked
        - platform
        - volumes
        - eps
        - total_episodes
        - rating
        - collection
        - tags
      type: object
      properties:
        id:
          title: ID
          type: integer
        type:
          title: Type
          type: integer
          allOf:
            - $ref: '#/components/schemas/SubjectType'
        name:
          title: Name
          type: string
        name_cn:
          title: Name Cn
          type: string
        summary:
          title: Summary
          type: string
        nsfw:
          title: Nsfw
          type: boolean
        locked:
          title: Locked
          type: boolean
        date:
          title: Date
          type: string
          description: air date in `YYYY-MM-DD` format
        platform:
          title: Platform
          type: string
          description: TV, Web, æ¬§ç¾å‰§, PS4...
        images:
          $ref: '#/components/schemas/Images'
        infobox:
          title: Infobox
          type: array
          items:
            $ref: '#/components/schemas/Item'
        volumes:
          title: Volumes
          type: integer
          description: ä¹¦ç±æ¡ç›®çš„å†Œæ•°ï¼Œç”±æ—§æœåŠ¡ç«¯ä»wikiä¸­è§£æ
        eps:
          title: Eps
          type: integer
          description: ç”±æ—§æœåŠ¡ç«¯ä»wikiä¸­è§£æï¼Œå¯¹äºä¹¦ç±æ¡ç›®ä¸º`è¯æ•°`
        total_episodes:
          title: Total Episodes
          type: integer
          description: æ•°æ®åº“ä¸­çš„ç« èŠ‚æ•°é‡
        rating:
          $ref: '#/components/schemas/Rating'
        collection:
          $ref: '#/components/schemas/Collection'
        tags:
          title: Tags
          type: array
          items:
            $ref: '#/components/schemas/Tag'
    SubjectType:
      title: SubjectType
      enum:
        - 1
        - 2
        - 3
        - 4
        - 6
      type: integer
      description: |-
        æ¡ç›®ç±»å‹
        - `1` ä¸º ä¹¦ç±
        - `2` ä¸º åŠ¨ç”»
        - `3` ä¸º éŸ³ä¹
        - `4` ä¸º æ¸¸æˆ
        - `6` ä¸º ä¸‰æ¬¡å…ƒ

        æ²¡æœ‰ `5`
      x-ms-enum:
        name: SubjectType
        modelAsString: false
        values:
          - Book
          - Anime
          - Music
          - Game
          - Real
      x-enum-varnames:
        - Book
        - Anime
        - Music
        - Game
        - Real
    Tag:
      title: Tag
      required:
        - name
        - count
      type: object
      properties:
        name:
          title: Name
          type: string
        count:
          title: Count
          type: integer
    UserCollection:
      title: UserCollection
      required:
        - subject_id
        - subject_type
        - rate
        - type
        - tags
        - ep_status
        - vol_status
        - updated_at
        - private
      type: object
      properties:
        subject_id:
          title: Subject ID
          type: integer
        subject_type:
          $ref: '#/components/schemas/SubjectType'
        rate:
          title: Rate
          type: integer
        type:
          $ref: '#/components/schemas/CollectionType'
        comment:
          title: Comment
          type: string
        tags:
          title: Tags
          type: array
          items:
            type: string
        ep_status:
          title: Ep Status
          type: integer
        vol_status:
          title: Vol Status
          type: integer
        updated_at:
          title: Updated At
          type: string
          format: date-time
        private:
          title: Private
          type: boolean
    V:
      title: V
      required:
        - v
      type: object
      properties:
        v:
          title: V
          type: string
    v0_RelatedSubject:
      title: RelatedSubject
      required:
        - id
        - staff
        - name_cn
      type: object
      properties:
        id:
          title: ID
          type: integer
        staff:
          title: Staff
          type: string
        name:
          title: Name
          type: string
        name_cn:
          title: Name Cn
          type: string
        image:
          title: Image
          type: string
    v0_subject_relation:
      title: SubjectRelation
      required:
        - id
        - type
        - name
        - name_cn
        - relation
      type: object
      properties:
        id:
          title: ID
          type: integer
        type:
          title: Type
          type: integer
        name:
          title: Name
          type: string
        name_cn:
          title: Name Cn
          type: string
        images:
          $ref: '#/components/schemas/Images'
        relation:
          title: Relation
          type: string
  securitySchemes:
    OptionalHTTPBearer:
      type: http
      description: ä¸å¼ºåˆ¶è¦æ±‚ç”¨æˆ·è®¤è¯ï¼Œä½†æ˜¯å¯èƒ½çœ‹ä¸åˆ°æŸäº›æ•æ„Ÿå†…å®¹å†…å®¹ï¼ˆå¦‚ NSFW æˆ–è€…ä»…ç”¨æˆ·è‡ªå·±å¯è§çš„æ”¶è—ï¼‰
      scheme: Bearer
    HTTPBearer:
      type: http
      description: éœ€è¦ä½¿ç”¨ access token è¿›è¡Œè®¤è¯
      scheme: Bearer
